import{r as s,j as c}from"./vendor-react-gM1mPWB3.js";import{r as Ee}from"./vendor-react-dom-CMBQwhqc.js";import{c as h}from"./vendor--radix-ui-primitive-Dc_FVRD7.js";import{u as te}from"./vendor--radix-ui-react-compose-refs-DBaD7hpW.js";import{c as xe}from"./vendor--radix-ui-react-collection-BYl4bl73.js";import{c as ye}from"./vendor--radix-ui-react-context-Bsb1Z-C-.js";import{B as Pe,R as Ce}from"./vendor--radix-ui-react-dismissable-layer-BKJL1ssj.js";import{P as he}from"./vendor--radix-ui-react-portal-_a8nvcrQ.js";import{P as Re}from"./vendor--radix-ui-react-presence-DFP-rAaD.js";import{P as A,d as be}from"./vendor--radix-ui-react-primitive-BKAPG_6T.js";import{u as W}from"./vendor--radix-ui-react-use-callback-ref-BdE_WETI.js";import{u as ge}from"./vendor--radix-ui-react-use-controllable-state-BAKcGrmb.js";import{u as Se}from"./vendor--radix-ui-react-use-layout-effect-D29HcR8f.js";import{V as oe}from"./vendor--radix-ui-react-visually-hidden-BgPC-Pp6.js";var z="ToastProvider",[G,Ie,Ae]=xe("Toast"),[re]=ye("Toast",[Ae]),[Fe,U]=re(z),se=e=>{const{__scopeToast:o,label:r="Notification",duration:t=5e3,swipeDirection:u="right",swipeThreshold:d=50,children:p}=e,[T,v]=s.useState(null),[i,C]=s.useState(0),E=s.useRef(!1),F=s.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${z}\`. Expected non-empty \`string\`.`),c.jsx(G.Provider,{scope:o,children:c.jsx(Fe,{scope:o,label:r,duration:t,swipeDirection:u,swipeThreshold:d,toastCount:i,viewport:T,onViewportChange:v,onToastAdd:s.useCallback(()=>C(g=>g+1),[]),onToastRemove:s.useCallback(()=>C(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:E,isClosePausedRef:F,children:p})})};se.displayName=z;var ne="ToastViewport",De=["F8"],$="toast.viewportPause",B="toast.viewportResume",ae=s.forwardRef((e,o)=>{const{__scopeToast:r,hotkey:t=De,label:u="Notifications ({hotkey})",...d}=e,p=U(ne,r),T=Ie(r),v=s.useRef(null),i=s.useRef(null),C=s.useRef(null),E=s.useRef(null),F=te(o,E,p.onViewportChange),g=t.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=p.toastCount>0;s.useEffect(()=>{const a=x=>{t.length!==0&&t.every(m=>x[m]||x.code===m)&&E.current?.focus()};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[t]),s.useEffect(()=>{const a=v.current,x=E.current;if(S&&a&&x){const f=()=>{if(!p.isClosePausedRef.current){const w=new CustomEvent($);x.dispatchEvent(w),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const w=new CustomEvent(B);x.dispatchEvent(w),p.isClosePausedRef.current=!1}},y=w=>{!a.contains(w.relatedTarget)&&m()},P=()=>{a.contains(document.activeElement)||m()};return a.addEventListener("focusin",f),a.addEventListener("focusout",y),a.addEventListener("pointermove",f),a.addEventListener("pointerleave",P),window.addEventListener("blur",f),window.addEventListener("focus",m),()=>{a.removeEventListener("focusin",f),a.removeEventListener("focusout",y),a.removeEventListener("pointermove",f),a.removeEventListener("pointerleave",P),window.removeEventListener("blur",f),window.removeEventListener("focus",m)}}},[S,p.isClosePausedRef]);const l=s.useCallback(({tabbingDirection:a})=>{const f=T().map(m=>{const y=m.ref.current,P=[y,...Xe(y)];return a==="forwards"?P:P.reverse()});return(a==="forwards"?f.reverse():f).flat()},[T]);return s.useEffect(()=>{const a=E.current;if(a){const x=f=>{const m=f.altKey||f.ctrlKey||f.metaKey;if(f.key==="Tab"&&!m){const P=document.activeElement,w=f.shiftKey;if(f.target===a&&w){i.current?.focus();return}const _=l({tabbingDirection:w?"backwards":"forwards"}),j=_.findIndex(I=>I===P);Y(_.slice(j+1))?f.preventDefault():w?i.current?.focus():C.current?.focus()}};return a.addEventListener("keydown",x),()=>a.removeEventListener("keydown",x)}},[T,l]),c.jsxs(Pe,{ref:v,role:"region","aria-label":u.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&c.jsx(q,{ref:i,onFocusFromOutsideViewport:()=>{const a=l({tabbingDirection:"forwards"});Y(a)}}),c.jsx(G.Slot,{scope:r,children:c.jsx(A.ol,{tabIndex:-1,...d,ref:F})}),S&&c.jsx(q,{ref:C,onFocusFromOutsideViewport:()=>{const a=l({tabbingDirection:"backwards"});Y(a)}})]})});ae.displayName=ne;var ie="ToastFocusProxy",q=s.forwardRef((e,o)=>{const{__scopeToast:r,onFocusFromOutsideViewport:t,...u}=e,d=U(ie,r);return c.jsx(oe,{tabIndex:0,...u,ref:o,style:{position:"fixed"},onFocus:p=>{const T=p.relatedTarget;!d.viewport?.contains(T)&&t()}})});q.displayName=ie;var M="Toast",_e="toast.swipeStart",Ne="toast.swipeMove",Le="toast.swipeCancel",Me="toast.swipeEnd",ce=s.forwardRef((e,o)=>{const{forceMount:r,open:t,defaultOpen:u,onOpenChange:d,...p}=e,[T,v]=ge({prop:t,defaultProp:u??!0,onChange:d,caller:M});return c.jsx(Re,{present:r||T,children:c.jsx(ke,{open:T,...p,ref:o,onClose:()=>v(!1),onPause:W(e.onPause),onResume:W(e.onResume),onSwipeStart:h(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:h(e.onSwipeMove,i=>{const{x:C,y:E}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${E}px`)}),onSwipeCancel:h(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:h(e.onSwipeEnd,i=>{const{x:C,y:E}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${E}px`),v(!1)})})})});ce.displayName=M;var[Oe,je]=re(M,{onClose(){}}),ke=s.forwardRef((e,o)=>{const{__scopeToast:r,type:t="foreground",duration:u,open:d,onClose:p,onEscapeKeyDown:T,onPause:v,onResume:i,onSwipeStart:C,onSwipeMove:E,onSwipeCancel:F,onSwipeEnd:g,...S}=e,l=U(M,r),[a,x]=s.useState(null),f=te(o,n=>x(n)),m=s.useRef(null),y=s.useRef(null),P=u||l.duration,w=s.useRef(0),D=s.useRef(P),O=s.useRef(0),{onToastAdd:_,onToastRemove:j}=l,I=W(()=>{a?.contains(document.activeElement)&&l.viewport?.focus(),p()}),k=s.useCallback(n=>{!n||n===1/0||(window.clearTimeout(O.current),w.current=new Date().getTime(),O.current=window.setTimeout(I,n))},[I]);s.useEffect(()=>{const n=l.viewport;if(n){const R=()=>{k(D.current),i?.()},b=()=>{const N=new Date().getTime()-w.current;D.current=D.current-N,window.clearTimeout(O.current),v?.()};return n.addEventListener($,b),n.addEventListener(B,R),()=>{n.removeEventListener($,b),n.removeEventListener(B,R)}}},[l.viewport,P,v,i,k]),s.useEffect(()=>{d&&!l.isClosePausedRef.current&&k(P)},[d,P,l.isClosePausedRef,k]),s.useEffect(()=>(_(),()=>j()),[_,j]);const Q=s.useMemo(()=>a?Te(a):null,[a]);return l.viewport?c.jsxs(c.Fragment,{children:[Q&&c.jsx(Ve,{__scopeToast:r,role:"status","aria-live":t==="foreground"?"assertive":"polite",children:Q}),c.jsx(Oe,{scope:r,onClose:I,children:Ee.createPortal(c.jsx(G.ItemSlot,{scope:r,children:c.jsx(Ce,{asChild:!0,onEscapeKeyDown:h(T,()=>{l.isFocusedToastEscapeKeyDownRef.current||I(),l.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(A.li,{tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection,...S,ref:f,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:h(e.onKeyDown,n=>{n.key==="Escape"&&(T?.(n.nativeEvent),n.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:h(e.onPointerDown,n=>{n.button===0&&(m.current={x:n.clientX,y:n.clientY})}),onPointerMove:h(e.onPointerMove,n=>{if(!m.current)return;const R=n.clientX-m.current.x,b=n.clientY-m.current.y,N=!!y.current,L=["left","right"].includes(l.swipeDirection),V=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,ve=L?V(0,R):0,we=L?0:V(0,b),X=n.pointerType==="touch"?10:2,K={x:ve,y:we},Z={originalEvent:n,delta:K};N?(y.current=K,H(Ne,E,Z,{discrete:!1})):ee(K,l.swipeDirection,X)?(y.current=K,H(_e,C,Z,{discrete:!1}),n.target.setPointerCapture(n.pointerId)):(Math.abs(R)>X||Math.abs(b)>X)&&(m.current=null)}),onPointerUp:h(e.onPointerUp,n=>{const R=y.current,b=n.target;if(b.hasPointerCapture(n.pointerId)&&b.releasePointerCapture(n.pointerId),y.current=null,m.current=null,R){const N=n.currentTarget,L={originalEvent:n,delta:R};ee(R,l.swipeDirection,l.swipeThreshold)?H(Me,g,L,{discrete:!0}):H(Le,F,L,{discrete:!0}),N.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),l.viewport)})]}):null}),Ve=e=>{const{__scopeToast:o,children:r,...t}=e,u=U(M,o),[d,p]=s.useState(!1),[T,v]=s.useState(!1);return We(()=>p(!0)),s.useEffect(()=>{const i=window.setTimeout(()=>v(!0),1e3);return()=>window.clearTimeout(i)},[]),T?null:c.jsx(he,{asChild:!0,children:c.jsx(oe,{...t,children:d&&c.jsxs(c.Fragment,{children:[u.label," ",r]})})})},Ke="ToastTitle",ue=s.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e;return c.jsx(A.div,{...t,ref:o})});ue.displayName=Ke;var He="ToastDescription",le=s.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e;return c.jsx(A.div,{...t,ref:o})});le.displayName=He;var de="ToastAction",pe=s.forwardRef((e,o)=>{const{altText:r,...t}=e;return r.trim()?c.jsx(me,{altText:r,asChild:!0,children:c.jsx(J,{...t,ref:o})}):(console.error(`Invalid prop \`altText\` supplied to \`${de}\`. Expected non-empty \`string\`.`),null)});pe.displayName=de;var fe="ToastClose",J=s.forwardRef((e,o)=>{const{__scopeToast:r,...t}=e,u=je(fe,r);return c.jsx(me,{asChild:!0,children:c.jsx(A.button,{type:"button",...t,ref:o,onClick:h(e.onClick,u.onClose)})})});J.displayName=fe;var me=s.forwardRef((e,o)=>{const{__scopeToast:r,altText:t,...u}=e;return c.jsx(A.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":t||void 0,...u,ref:o})});function Te(e){const o=[];return Array.from(e.childNodes).forEach(t=>{if(t.nodeType===t.TEXT_NODE&&t.textContent&&o.push(t.textContent),Ue(t)){const u=t.ariaHidden||t.hidden||t.style.display==="none",d=t.dataset.radixToastAnnounceExclude==="";if(!u)if(d){const p=t.dataset.radixToastAnnounceAlt;p&&o.push(p)}else o.push(...Te(t))}}),o}function H(e,o,r,{discrete:t}){const u=r.originalEvent.currentTarget,d=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});o&&u.addEventListener(e,o,{once:!0}),t?be(u,d):u.dispatchEvent(d)}var ee=(e,o,r=0)=>{const t=Math.abs(e.x),u=Math.abs(e.y),d=t>u;return o==="left"||o==="right"?d&&t>r:!d&&u>r};function We(e=()=>{}){const o=W(e);Se(()=>{let r=0,t=0;return r=window.requestAnimationFrame(()=>t=window.requestAnimationFrame(o)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(t)}},[o])}function Ue(e){return e.nodeType===e.ELEMENT_NODE}function Xe(e){const o=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const u=t.tagName==="INPUT"&&t.type==="hidden";return t.disabled||t.hidden||u?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)o.push(r.currentNode);return o}function Y(e){const o=document.activeElement;return e.some(r=>r===o?!0:(r.focus(),document.activeElement!==o))}var nt=se,at=ae,it=ce,ct=ue,ut=le,lt=pe,dt=J;export{lt as A,dt as C,ut as D,nt as P,it as R,ct as T,at as V};
