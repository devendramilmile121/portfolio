import{g as d,c as w}from"./vendor-lowlight-C41568yQ.js";import{v as A}from"./vendor-unist-util-visit-BGHZ1oQt.js";import{t as v}from"./vendor-hast-util-to-text-0GXLnBvt.js";import"./vendor-highlight-js-Cto1oP5G.js";import"./vendor-base64-js-1da7ELQG.js";import"./vendor-unist-util-visit-parents-BGfyC6jD.js";import"./vendor-unist-util-is-BPZGFiMU.js";import"./vendor-hast-util-is-element-CuOmiqQi.js";import"./vendor-unist-util-find-after-CMaZmLxc.js";const T={};function q(o){const t=o||T,n=t.aliases,a=t.detect||!1,i=t.languages||d,m=t.plainText,r=t.prefix,x=t.subset;let h="hljs";const p=w(i);if(n&&p.registerAlias(n),r){const g=r.indexOf("-");h=g===-1?r:r.slice(0,g)}return function(g,y){A(g,"element",function(e,O,c){if(e.tagName!=="code"||!c||c.type!=="element"||c.tagName!=="pre")return;const s=b(e);if(s===!1||!s&&!a||s&&m&&m.includes(s))return;Array.isArray(e.properties.className)||(e.properties.className=[]),e.properties.className.includes(h)||e.properties.className.unshift(h);const f=v(e,{whitespace:"pre"});let l;try{l=s?p.highlight(s,f,{prefix:r}):p.highlightAuto(f,{prefix:r,subset:x})}catch(N){const u=N;if(s&&/Unknown language/.test(u.message)){y.message("Cannot highlight as `"+s+"`, itâ€™s not registered",{ancestors:[c,e],cause:u,place:e.position,ruleId:"missing-language",source:"rehype-highlight"});return}throw u}!s&&l.data&&l.data.language&&e.properties.className.push("language-"+l.data.language),l.children.length>0&&(e.children=l.children)})}}function b(o){const t=o.properties.className;let n=-1;if(!Array.isArray(t))return;let a;for(;++n<t.length;){const i=String(t[n]);if(i==="no-highlight"||i==="nohighlight")return!1;!a&&i.slice(0,5)==="lang-"&&(a=i.slice(5)),!a&&i.slice(0,9)==="language-"&&(a=i.slice(9))}return a}export{q as default};
